{"version":3,"file":"TrainingManagement-e6de3c38.js","sources":["../../src/components/TrainingManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ModernCard } from './ui/ModernCard';\nimport { SlimBadge } from './ui/SlimBadge';\nimport { Progress } from './ui/Progress';\nimport { Button } from './ui/Button';\nimport { \n  Play, \n  Pause, \n  Square, \n  Settings, \n  Brain, \n  Database,\n  Clock,\n  Target,\n  Zap,\n  Plus,\n  Eye,\n  Download,\n  TrendingUp,\n  BarChart3,\n  Activity,\n  CheckCircle,\n  AlertCircle,\n  RefreshCw\n} from 'lucide-react';\nimport {\n  LineChart,\n  Line,\n  AreaChart,\n  Area,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell\n} from 'recharts';\n\n// Mock Data برای Training Management\nconst MOCK_TRAINING_SESSIONS = [\n  {\n    id: 1,\n    model_name: 'Persian BERT Legal v3.0',\n    model_type: 'persian-bert',\n    dataset: 'Legal QA Persian Extended',\n    status: 'training',\n    progress: 64,\n    current_epoch: 32,\n    total_epochs: 50,\n    accuracy: 0.89,\n    loss: 0.23,\n    learning_rate: 0.001,\n    batch_size: 32,\n    estimated_completion: '2h 15m',\n    elapsed_time: '1h 45m',\n    started_at: new Date(Date.now() - 6300000).toISOString(),\n    gpu_usage: 85,\n    memory_usage: 12.4\n  },\n  {\n    id: 2,\n    model_name: 'Contract Analyzer Pro',\n    model_type: 'dora',\n    dataset: 'Contract Analysis Dataset',\n    status: 'training',\n    progress: 28,\n    current_epoch: 14,\n    total_epochs: 50,\n    accuracy: 0.76,\n    loss: 0.45,\n    learning_rate: 0.0005,\n    batch_size: 16,\n    estimated_completion: '4h 30m',\n    elapsed_time: '1h 20m',\n    started_at: new Date(Date.now() - 4800000).toISOString(),\n    gpu_usage: 72,\n    memory_usage: 8.2\n  },\n  {\n    id: 3,\n    model_name: 'Legal Document Classifier',\n    model_type: 'qr-adaptor',\n    dataset: 'Legal Documents Collection',\n    status: 'paused',\n    progress: 45,\n    current_epoch: 18,\n    total_epochs: 40,\n    accuracy: 0.82,\n    loss: 0.31,\n    learning_rate: 0.002,\n    batch_size: 64,\n    estimated_completion: 'متوقف شده',\n    elapsed_time: '2h 10m',\n    started_at: new Date(Date.now() - 8400000).toISOString(),\n    gpu_usage: 0,\n    memory_usage: 0\n  }\n];\n\nconst MOCK_TRAINING_QUEUE = [\n  {\n    id: 4,\n    model_name: 'Case Law Predictor v2',\n    model_type: 'persian-bert',\n    dataset: 'Case Law Database',\n    priority: 'high',\n    estimated_duration: '6h',\n    scheduled_for: new Date(Date.now() + 3600000).toISOString()\n  },\n  {\n    id: 5,\n    model_name: 'Legal Summarizer',\n    model_type: 'dora',\n    dataset: 'Legal Documents',\n    priority: 'medium',\n    estimated_duration: '4h',\n    scheduled_for: new Date(Date.now() + 7200000).toISOString()\n  }\n];\n\nconst MOCK_TRAINING_HISTORY = Array.from({ length: 10 }, (_, i) => ({\n  date: new Date(Date.now() - i * 24 * 60 * 60 * 1000).toLocaleDateString('fa-IR'),\n  sessions: Math.floor(Math.random() * 5) + 1,\n  avg_accuracy: Math.random() * 0.2 + 0.8,\n  total_time: Math.floor(Math.random() * 8) + 2\n}));\n\nconst MOCK_MODEL_PERFORMANCE = [\n  { name: 'Persian BERT', accuracy: 94, training_time: 8.5, efficiency: 92 },\n  { name: 'DORA', accuracy: 89, training_time: 6.2, efficiency: 88 },\n  { name: 'QR Adaptor', accuracy: 85, training_time: 4.8, efficiency: 85 }\n];\n\nconst MOCK_RESOURCE_USAGE = Array.from({ length: 24 }, (_, i) => ({\n  hour: `${i}:00`,\n  gpu_usage: Math.floor(Math.random() * 40) + 30,\n  memory_usage: Math.floor(Math.random() * 30) + 40,\n  cpu_usage: Math.floor(Math.random() * 25) + 25\n}));\n\nexport default function TrainingManagement() {\n  const [activeSessions, setActiveSessions] = useState(MOCK_TRAINING_SESSIONS);\n  const [trainingQueue, setTrainingQueue] = useState(MOCK_TRAINING_QUEUE);\n  const [loading, setLoading] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'training': return 'info';\n      case 'paused': return 'warning';\n      case 'completed': return 'success';\n      case 'failed': return 'error';\n      default: return 'neutral';\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'training': return <Play className=\"w-3 h-3\" />;\n      case 'paused': return <Pause className=\"w-3 h-3\" />;\n      case 'completed': return <CheckCircle className=\"w-3 h-3\" />;\n      case 'failed': return <AlertCircle className=\"w-3 h-3\" />;\n      default: return <Clock className=\"w-3 h-3\" />;\n    }\n  };\n\n  const getStatusText = (status: string) => {\n    switch (status) {\n      case 'training': return 'در حال آموزش';\n      case 'paused': return 'متوقف شده';\n      case 'completed': return 'تکمیل شده';\n      case 'failed': return 'ناموفق';\n      default: return 'نامشخص';\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'high': return 'error';\n      case 'medium': return 'warning';\n      case 'low': return 'neutral';\n      default: return 'neutral';\n    }\n  };\n\n  // آمار کلی\n  const stats = {\n    active: activeSessions.filter(s => s.status === 'training').length,\n    paused: activeSessions.filter(s => s.status === 'paused').length,\n    queued: trainingQueue.length,\n    avgAccuracy: activeSessions.reduce((sum, s) => sum + s.accuracy, 0) / activeSessions.length * 100,\n    totalGpuUsage: activeSessions.reduce((sum, s) => sum + s.gpu_usage, 0),\n    totalMemoryUsage: activeSessions.reduce((sum, s) => sum + s.memory_usage, 0)\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 p-6\">\n      <div className=\"max-w-7xl mx-auto space-y-8\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-4xl font-light text-slate-900 dark:text-slate-100 mb-2\">\n              آموزش مدل‌ها\n            </h1>\n            <p className=\"text-lg text-slate-600 dark:text-slate-400\">\n              مدیریت و نظارت بر فرآیند آموزش مدل‌های هوش مصنوعی\n            </p>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <Button variant=\"outline\" className=\"rounded-xl\">\n              <Settings className=\"w-4 h-4 ml-2\" />\n              تنظیمات آموزش\n            </Button>\n            <Button onClick={() => setShowCreateModal(true)} className=\"rounded-xl bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700\">\n              <Plus className=\"w-4 h-4 ml-2\" />\n              آموزش جدید\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <ModernCard variant=\"elevated\" className=\"text-center\">\n            <div className=\"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl mb-4\">\n              <Activity className=\"w-7 h-7 text-white\" />\n            </div>\n            <h3 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-1\">{stats.active}</h3>\n            <p className=\"text-slate-600 dark:text-slate-400\">در حال آموزش</p>\n            <div className=\"mt-2\">\n              <SlimBadge variant=\"info\" size=\"xs\">فعال</SlimBadge>\n            </div>\n          </ModernCard>\n\n          <ModernCard variant=\"elevated\" className=\"text-center\">\n            <div className=\"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl mb-4\">\n              <Target className=\"w-7 h-7 text-white\" />\n            </div>\n            <h3 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-1\">{stats.avgAccuracy.toFixed(1)}%</h3>\n            <p className=\"text-slate-600 dark:text-slate-400\">میانگین دقت</p>\n            <div className=\"flex items-center justify-center gap-1 mt-2\">\n              <TrendingUp className=\"w-4 h-4 text-emerald-500\" />\n              <span className=\"text-sm text-emerald-600\">+2.3%</span>\n            </div>\n          </ModernCard>\n\n          <ModernCard variant=\"elevated\" className=\"text-center\">\n            <div className=\"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl mb-4\">\n              <Zap className=\"w-7 h-7 text-white\" />\n            </div>\n            <h3 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-1\">{stats.totalGpuUsage}%</h3>\n            <p className=\"text-slate-600 dark:text-slate-400\">استفاده GPU</p>\n            <div className=\"mt-2\">\n              <SlimBadge variant={stats.totalGpuUsage > 80 ? 'warning' : 'success'} size=\"xs\">\n                {stats.totalGpuUsage > 80 ? 'بالا' : 'نرمال'}\n              </SlimBadge>\n            </div>\n          </ModernCard>\n\n          <ModernCard variant=\"elevated\" className=\"text-center\">\n            <div className=\"inline-flex items-center justify-center w-14 h-14 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl mb-4\">\n              <Clock className=\"w-7 h-7 text-white\" />\n            </div>\n            <h3 className=\"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-1\">{stats.queued}</h3>\n            <p className=\"text-slate-600 dark:text-slate-400\">در صف انتظار</p>\n            <div className=\"mt-2\">\n              <SlimBadge variant=\"neutral\" size=\"xs\">آماده</SlimBadge>\n            </div>\n          </ModernCard>\n        </div>\n\n        {/* Active Training Sessions */}\n        <ModernCard variant=\"outlined\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2\">\n              <Brain className=\"w-5 h-5 text-purple-500\" />\n              جلسات آموزش فعال\n            </h3>\n            <SlimBadge variant=\"info\">{stats.active} فعال</SlimBadge>\n          </div>\n          <div className=\"space-y-6\">\n            {activeSessions.map((session) => (\n              <div key={session.id} className=\"p-6 bg-slate-50 dark:bg-slate-800 rounded-xl\">\n                <div className=\"flex items-start justify-between mb-4\">\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center\">\n                      <Brain className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                      <h4 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n                        {session.model_name}\n                      </h4>\n                      <p className=\"text-slate-600 dark:text-slate-400\">\n                        {session.model_type} • {session.dataset}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <SlimBadge variant={getStatusColor(session.status)}>\n                      {getStatusIcon(session.status)}\n                      {getStatusText(session.status)}\n                    </SlimBadge>\n                  </div>\n                </div>\n\n                {/* Progress */}\n                <div className=\"space-y-3 mb-4\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-slate-600 dark:text-slate-400\">پیشرفت آموزش</span>\n                    <span className=\"font-medium\">{session.current_epoch}/{session.total_epochs} epochs</span>\n                  </div>\n                  <Progress value={session.progress} className=\"h-3\" />\n                  <div className=\"flex justify-between text-xs text-slate-500\">\n                    <span>دقت: {(session.accuracy * 100).toFixed(1)}%</span>\n                    <span>خطا: {session.loss.toFixed(3)}</span>\n                    <span>زمان باقی‌مانده: {session.estimated_completion}</span>\n                  </div>\n                </div>\n\n                {/* Stats Grid */}\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n                  <div className=\"text-center p-3 bg-white dark:bg-slate-700 rounded-lg\">\n                    <div className=\"text-lg font-bold text-slate-900 dark:text-slate-100\">{session.learning_rate}</div>\n                    <div className=\"text-xs text-slate-500\">Learning Rate</div>\n                  </div>\n                  <div className=\"text-center p-3 bg-white dark:bg-slate-700 rounded-lg\">\n                    <div className=\"text-lg font-bold text-slate-900 dark:text-slate-100\">{session.batch_size}</div>\n                    <div className=\"text-xs text-slate-500\">Batch Size</div>\n                  </div>\n                  <div className=\"text-center p-3 bg-white dark:bg-slate-700 rounded-lg\">\n                    <div className=\"text-lg font-bold text-slate-900 dark:text-slate-100\">{session.gpu_usage}%</div>\n                    <div className=\"text-xs text-slate-500\">GPU Usage</div>\n                  </div>\n                  <div className=\"text-center p-3 bg-white dark:bg-slate-700 rounded-lg\">\n                    <div className=\"text-lg font-bold text-slate-900 dark:text-slate-100\">{session.memory_usage}GB</div>\n                    <div className=\"text-xs text-slate-500\">Memory</div>\n                  </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex items-center gap-3\">\n                  {session.status === 'training' && (\n                    <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg\">\n                      <Pause className=\"w-3 h-3 ml-1\" />\n                      توقف\n                    </Button>\n                  )}\n                  {session.status === 'paused' && (\n                    <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg\">\n                      <Play className=\"w-3 h-3 ml-1\" />\n                      ادامه\n                    </Button>\n                  )}\n                  <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg\">\n                    <Square className=\"w-3 h-3 ml-1\" />\n                    توقف کامل\n                  </Button>\n                  <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg\">\n                    <Eye className=\"w-3 h-3 ml-1\" />\n                    جزئیات\n                  </Button>\n                  <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg\">\n                    <Settings className=\"w-3 h-3 ml-1\" />\n                    تنظیمات\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </ModernCard>\n\n        {/* Charts */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Training History */}\n          <ModernCard variant=\"outlined\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2\">\n                <BarChart3 className=\"w-5 h-5 text-blue-500\" />\n                تاریخچه آموزش\n              </h3>\n              <SlimBadge variant=\"neutral\">10 روز گذشته</SlimBadge>\n            </div>\n            <div className=\"h-64\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <AreaChart data={MOCK_TRAINING_HISTORY.slice().reverse()}>\n                  <defs>\n                    <linearGradient id=\"sessionsGradient\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                      <stop offset=\"5%\" stopColor=\"#3b82f6\" stopOpacity={0.3}/>\n                      <stop offset=\"95%\" stopColor=\"#3b82f6\" stopOpacity={0}/>\n                    </linearGradient>\n                  </defs>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\n                  <XAxis \n                    dataKey=\"date\" \n                    tick={{ fontSize: 12 }}\n                    stroke=\"#64748b\"\n                  />\n                  <YAxis \n                    tick={{ fontSize: 12 }}\n                    stroke=\"#64748b\"\n                  />\n                  <Tooltip \n                    contentStyle={{\n                      backgroundColor: 'white',\n                      border: '1px solid #e2e8f0',\n                      borderRadius: '12px'\n                    }}\n                  />\n                  <Area \n                    type=\"monotone\" \n                    dataKey=\"sessions\" \n                    stroke=\"#3b82f6\" \n                    strokeWidth={2}\n                    fill=\"url(#sessionsGradient)\"\n                    name=\"جلسات آموزش\"\n                  />\n                </AreaChart>\n              </ResponsiveContainer>\n            </div>\n          </ModernCard>\n\n          {/* Resource Usage */}\n          <ModernCard variant=\"outlined\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2\">\n                <Zap className=\"w-5 h-5 text-purple-500\" />\n                استفاده از منابع\n              </h3>\n              <SlimBadge variant=\"warning\">زنده</SlimBadge>\n            </div>\n            <div className=\"h-64\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <LineChart data={MOCK_RESOURCE_USAGE.slice(-12)}>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\n                  <XAxis \n                    dataKey=\"hour\" \n                    tick={{ fontSize: 12 }}\n                    stroke=\"#64748b\"\n                  />\n                  <YAxis \n                    tick={{ fontSize: 12 }}\n                    stroke=\"#64748b\"\n                  />\n                  <Tooltip \n                    contentStyle={{\n                      backgroundColor: 'white',\n                      border: '1px solid #e2e8f0',\n                      borderRadius: '12px'\n                    }}\n                  />\n                  <Line \n                    type=\"monotone\" \n                    dataKey=\"gpu_usage\" \n                    stroke=\"#8b5cf6\" \n                    strokeWidth={2}\n                    name=\"GPU (%)\"\n                    dot={false}\n                  />\n                  <Line \n                    type=\"monotone\" \n                    dataKey=\"memory_usage\" \n                    stroke=\"#10b981\" \n                    strokeWidth={2}\n                    name=\"Memory (%)\"\n                    dot={false}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n          </ModernCard>\n        </div>\n\n        {/* Training Queue */}\n        <ModernCard variant=\"outlined\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"text-xl font-semibold text-slate-900 dark:text-slate-100 flex items-center gap-2\">\n              <Clock className=\"w-5 h-5 text-amber-500\" />\n              صف آموزش\n            </h3>\n            <SlimBadge variant=\"neutral\">{trainingQueue.length} در انتظار</SlimBadge>\n          </div>\n          <div className=\"space-y-4\">\n            {trainingQueue.map((item) => (\n              <div key={item.id} className=\"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800 rounded-xl\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center\">\n                    <Clock className=\"w-5 h-5 text-amber-600 dark:text-amber-400\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-slate-900 dark:text-slate-100\">{item.model_name}</h4>\n                    <p className=\"text-sm text-slate-600 dark:text-slate-400\">\n                      {item.model_type} • {item.dataset}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <SlimBadge variant={getPriorityColor(item.priority)} size=\"sm\">\n                    {item.priority === 'high' ? 'اولویت بالا' : \n                     item.priority === 'medium' ? 'اولویت متوسط' : 'اولویت پایین'}\n                  </SlimBadge>\n                  <div className=\"text-sm text-slate-500\">\n                    زمان تخمینی: {item.estimated_duration}\n                  </div>\n                  <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg\">\n                    <Play className=\"w-3 h-3 ml-1\" />\n                    شروع فوری\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </ModernCard>\n\n        {/* Create Training Modal Placeholder */}\n        {showCreateModal && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n            <ModernCard className=\"w-full max-w-2xl\">\n              <div className=\"p-6\">\n                <h3 className=\"text-xl font-semibold mb-4\">شروع آموزش جدید</h3>\n                <p className=\"text-slate-600 mb-6\">فرم ایجاد جلسه آموزش در حال توسعه است...</p>\n                <div className=\"flex justify-end gap-3\">\n                  <Button variant=\"outline\" onClick={() => setShowCreateModal(false)}>\n                    انصراف\n                  </Button>\n                  <Button onClick={() => setShowCreateModal(false)}>\n                    شروع آموزش\n                  </Button>\n                </div>\n              </div>\n            </ModernCard>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["MOCK_TRAINING_SESSIONS","id","model_name","model_type","dataset","status","progress","current_epoch","total_epochs","accuracy","loss","learning_rate","batch_size","estimated_completion","elapsed_time","started_at","Date","now","toISOString","gpu_usage","memory_usage","MOCK_TRAINING_QUEUE","priority","estimated_duration","scheduled_for","MOCK_TRAINING_HISTORY","Array","from","length","_","i","date","toLocaleDateString","sessions","Math","floor","random","avg_accuracy","total_time","MOCK_RESOURCE_USAGE","hour","cpu_usage","TrainingManagement","activeSessions","setActiveSessions","useState","trainingQueue","setTrainingQueue","showCreateModal","setShowCreateModal","getStatusColor","getStatusIcon","jsx","Play","className","Pause","CheckCircle","AlertCircle","Clock","getStatusText","getPriorityColor","stats","active","filter","s","paused","queued","avgAccuracy","reduce","sum","totalGpuUsage","totalMemoryUsage","children","jsxs","Button","variant","Settings","onClick","Plus","ModernCard","Activity","SlimBadge","size","Target","toFixed","TrendingUp","Zap","jsxRuntimeExports","Brain","map","session","Progress","value","Square","Eye","BarChart3","ResponsiveContainer","width","height","AreaChart","data","slice","reverse","x1","y1","x2","y2","offset","stopColor","stopOpacity","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","tick","fontSize","YAxis","Tooltip","contentStyle","backgroundColor","border","borderRadius","Area","type","strokeWidth","fill","name","LineChart","Line","dot","item"],"mappings":"gcA2CA,MAAMA,EAAyB,CAC7B,CACEC,GAAI,EACJC,WAAY,0BACZC,WAAY,eACZC,QAAS,4BACTC,OAAQ,WACRC,SAAU,GACVC,cAAe,GACfC,aAAc,GACdC,SAAU,IACVC,KAAM,IACNC,cAAe,KACfC,WAAY,GACZC,qBAAsB,SACtBC,aAAc,SACdC,WAAY,IAAIC,KAAKA,KAAKC,MAAQ,MAASC,cAC3CC,UAAW,GACXC,aAAc,MAEhB,CACEnB,GAAI,EACJC,WAAY,wBACZC,WAAY,OACZC,QAAS,4BACTC,OAAQ,WACRC,SAAU,GACVC,cAAe,GACfC,aAAc,GACdC,SAAU,IACVC,KAAM,IACNC,cAAe,KACfC,WAAY,GACZC,qBAAsB,SACtBC,aAAc,SACdC,WAAY,IAAIC,KAAKA,KAAKC,MAAQ,MAASC,cAC3CC,UAAW,GACXC,aAAc,KAEhB,CACEnB,GAAI,EACJC,WAAY,4BACZC,WAAY,aACZC,QAAS,6BACTC,OAAQ,SACRC,SAAU,GACVC,cAAe,GACfC,aAAc,GACdC,SAAU,IACVC,KAAM,IACNC,cAAe,KACfC,WAAY,GACZC,qBAAsB,YACtBC,aAAc,SACdC,WAAY,IAAIC,KAAKA,KAAKC,MAAQ,MAASC,cAC3CC,UAAW,EACXC,aAAc,IAIZC,EAAsB,CAC1B,CACEpB,GAAI,EACJC,WAAY,wBACZC,WAAY,eACZC,QAAS,oBACTkB,SAAU,OACVC,mBAAoB,KACpBC,cAAe,IAAIR,KAAKA,KAAKC,MAAQ,MAASC,eAEhD,CACEjB,GAAI,EACJC,WAAY,mBACZC,WAAY,OACZC,QAAS,kBACTkB,SAAU,SACVC,mBAAoB,KACpBC,cAAe,IAAIR,KAAKA,KAAKC,MAAQ,MAASC,gBAI5CO,EAAwBC,MAAMC,KAAK,CAAEC,OAAQ,IAAM,CAACC,EAAGC,KAAO,CAClEC,KAAM,IAAIf,KAAKA,KAAKC,MAAY,GAAJa,EAAS,GAAK,GAAK,KAAME,mBAAmB,SACxEC,SAAUC,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,EAC1CC,aAA8B,GAAhBH,KAAKE,SAAiB,GACpCE,WAAYJ,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,KASxCG,EAAsBb,MAAMC,KAAK,CAAEC,OAAQ,IAAM,CAACC,EAAGC,KAAO,CAChEU,KAAM,GAAGV,OACTX,UAAWe,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,GAC5ChB,aAAcc,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,GAC/CK,UAAWP,KAAKC,MAAsB,GAAhBD,KAAKE,UAAiB,MAG9C,SAAwBM,IACtB,MAAOC,EAAgBC,GAAqBC,WAAS7C,IAC9C8C,EAAeC,GAAoBF,WAASxB,GACrBwB,EAAAA,UAAS,GACvC,MAAOG,EAAiBC,GAAsBJ,YAAS,GAEjDK,EAAkB7C,IACtB,OAAQA,GACN,IAAK,WAAmB,MAAA,OACxB,IAAK,SAAiB,MAAA,UACtB,IAAK,YAAoB,MAAA,UACzB,IAAK,SAAiB,MAAA,QACtB,QAAgB,MAAA,YAId8C,EAAiB9C,IACrB,OAAQA,GACN,IAAK,WAAmB,SAAA+C,IAACC,EAAK,CAAAC,UAAU,YACxC,IAAK,SAAiB,SAAAF,IAACG,EAAM,CAAAD,UAAU,YACvC,IAAK,YAAoB,SAAAF,IAACI,EAAY,CAAAF,UAAU,YAChD,IAAK,SAAiB,SAAAF,IAACK,EAAY,CAAAH,UAAU,YAC7C,QAAgB,SAAAF,IAACM,EAAM,CAAAJ,UAAU,cAI/BK,EAAiBtD,IACrB,OAAQA,GACN,IAAK,WAAmB,MAAA,eACxB,IAAK,SAAiB,MAAA,YACtB,IAAK,YAAoB,MAAA,YACzB,IAAK,SAAiB,MAAA,SACtB,QAAgB,MAAA,WAIduD,EAAoBtC,IACxB,OAAQA,GACN,IAAK,OAAe,MAAA,QACpB,IAAK,SAAiB,MAAA,UAEtB,QAAgB,MAAA,YAKduC,EAAQ,CACZC,OAAQnB,EAAeoB,UAAyB,aAAbC,EAAE3D,QAAuBuB,OAC5DqC,OAAQtB,EAAeoB,UAAyB,WAAbC,EAAE3D,QAAqBuB,OAC1DsC,OAAQpB,EAAclB,OACtBuC,YAAaxB,EAAeyB,OAAO,CAACC,EAAKL,IAAMK,EAAML,EAAEvD,SAAU,GAAKkC,EAAef,OAAS,IAC9F0C,cAAe3B,EAAeyB,OAAO,CAACC,EAAKL,IAAMK,EAAML,EAAE7C,UAAW,GACpEoD,iBAAkB5B,EAAeyB,OAAO,CAACC,EAAKL,IAAMK,EAAML,EAAE5C,aAAc,IAG5E,aACG,MAAI,CAAAkC,UAAU,sGACbkB,SAACC,EAAAA,KAAA,MAAA,CAAInB,UAAU,8BAEbkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,oCACbkB,SAAA,QAAC,MACC,CAAAA,SAAA,CAACpB,EAAAA,IAAA,KAAA,CAAGE,UAAU,8DAA8DkB,SAE5E,iBACCpB,EAAAA,IAAA,IAAA,CAAEE,UAAU,6CAA6CkB,SAE1D,2DAEFC,KAAC,MAAI,CAAAnB,UAAU,0BACbkB,SAAA,CAAAC,EAAAA,KAACC,EAAO,CAAAC,QAAQ,UAAUrB,UAAU,aAClCkB,SAAA,GAACpB,IAAAwB,EAAA,CAAStB,UAAU,iBAAiB,mBAGvCmB,OAACC,GAAOG,QAAS,IAAM5B,GAAmB,GAAOK,UAAU,kGACzDkB,SAAA,GAACpB,IAAA0B,EAAA,CAAKxB,UAAU,iBAAiB,wBAOvCmB,KAAC,MAAI,CAAAnB,UAAU,uDACbkB,SAAA,CAAAC,EAAAA,KAACM,EAAW,CAAAJ,QAAQ,WAAWrB,UAAU,cACvCkB,SAAA,CAAApB,EAAAA,IAAC,OAAIE,UAAU,iHACbkB,eAACQ,EAAS,CAAA1B,UAAU,yBAErBF,EAAAA,IAAA,KAAA,CAAGE,UAAU,6DAA8DkB,WAAMV,SACjFV,EAAAA,IAAA,IAAA,CAAEE,UAAU,qCAAqCkB,SAAY,mBAC9DpB,IAAC,MAAI,CAAAE,UAAU,OACbkB,SAAApB,EAAAA,IAAC6B,EAAU,CAAAN,QAAQ,OAAOO,KAAK,KAAKV,SAAA,cAIvCC,EAAAA,KAAAM,EAAA,CAAWJ,QAAQ,WAAWrB,UAAU,cACvCkB,SAAA,CAAApB,EAAAA,IAAC,OAAIE,UAAU,uHACbkB,eAACW,EAAO,CAAA7B,UAAU,2BAEpBmB,KAAC,KAAG,CAAAnB,UAAU,6DAA8DkB,SAAA,CAAMX,EAAAM,YAAYiB,QAAQ,GAAG,OACxGhC,EAAAA,IAAA,IAAA,CAAEE,UAAU,qCAAqCkB,SAAW,kBAC7DC,KAAC,MAAI,CAAAnB,UAAU,8CACbkB,SAAA,GAACpB,IAAAiC,EAAA,CAAW/B,UAAU,6BACrBF,EAAAA,IAAA,OAAA,CAAKE,UAAU,2BAA2BkB,SAAK,gBAInDC,EAAAA,KAAAM,EAAA,CAAWJ,QAAQ,WAAWrB,UAAU,cACvCkB,SAAA,CAAApB,EAAAA,IAAC,OAAIE,UAAU,qHACbkB,eAACc,EAAI,CAAAhC,UAAU,2BAEjBmB,KAAC,KAAG,CAAAnB,UAAU,6DAA8DkB,SAAA,CAAMX,EAAAS,cAAc,OAC/FlB,EAAAA,IAAA,IAAA,CAAEE,UAAU,qCAAqCkB,SAAW,sBAC5D,MAAI,CAAAlB,UAAU,OACbkB,SAACe,EAAAnC,IAAA6B,EAAA,CAAUN,QAASd,EAAMS,cAAgB,GAAK,UAAY,UAAWY,KAAK,KACxEV,SAAAX,EAAMS,cAAgB,GAAK,OAAS,eAK1CG,EAAAA,KAAAM,EAAA,CAAWJ,QAAQ,WAAWrB,UAAU,cACvCkB,SAAA,CAAApB,EAAAA,IAAC,OAAIE,UAAU,mHACbkB,eAACd,EAAM,CAAAJ,UAAU,yBAElBF,EAAAA,IAAA,KAAA,CAAGE,UAAU,6DAA8DkB,WAAMN,SACjFd,EAAAA,IAAA,IAAA,CAAEE,UAAU,qCAAqCkB,SAAY,mBAC9DpB,IAAC,MAAI,CAAAE,UAAU,OACbkB,SAAApB,EAAAA,IAAC6B,EAAU,CAAAN,QAAQ,UAAUO,KAAK,KAAKV,SAAA,oBAM7CC,KAACM,EAAW,CAAAJ,QAAQ,WAClBH,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,yCACbkB,SAAA,GAACC,KAAA,KAAA,CAAGnB,UAAU,mFACZkB,SAAA,GAACpB,IAAAoC,EAAA,CAAMlC,UAAU,4BAA4B,wBAG/CmB,KAACQ,EAAU,CAAAN,QAAQ,OAAQH,SAAA,CAAMX,EAAAC,OAAO,gBAE1CV,IAAC,MAAI,CAAAE,UAAU,YACZkB,SAAA7B,EAAe8C,IAAKC,GACnBH,EAAAd,KAAC,MAAqB,CAAAnB,UAAU,+CAC9BkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,wCACbkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,0BACbkB,SAAA,CAAApB,EAAAA,IAAC,OAAIE,UAAU,wGACbkB,eAACgB,EAAM,CAAAlC,UAAU,gCAElB,MACC,CAAAkB,SAAA,CAAApB,EAAAA,IAAC,KAAG,CAAAE,UAAU,2DACXkB,SAAAkB,EAAQxF,eAEXuE,KAAC,IAAE,CAAAnB,UAAU,qCACVkB,SAAA,CAAQkB,EAAAvF,WAAW,MAAIuF,EAAQtF,mBAItCgD,IAAC,MAAI,CAAAE,UAAU,0BACbkB,SAAAC,EAAAA,KAACQ,GAAUN,QAASzB,EAAewC,EAAQrF,QACxCmE,SAAA,CAAArB,EAAcuC,EAAQrF,QACtBsD,EAAc+B,EAAQrF,kBAM7BoE,KAAC,MAAI,CAAAnB,UAAU,iBACbkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,+BACbkB,SAAA,CAACpB,EAAAA,IAAA,OAAA,CAAKE,UAAU,qCAAqCkB,SAAY,mBACjEC,KAAC,OAAK,CAAAnB,UAAU,cAAekB,SAAA,CAAQkB,EAAAnF,cAAc,IAAEmF,EAAQlF,aAAa,sBAE7EmF,EAAS,CAAAC,MAAOF,EAAQpF,SAAUgD,UAAU,UAC7CmB,KAAC,MAAI,CAAAnB,UAAU,8CACbkB,SAAA,QAAC,OAAK,CAAAA,SAAA,CAAA,SAA0B,IAAnBkB,EAAQjF,UAAgB2E,QAAQ,GAAG,cAC/C,OAAK,CAAAZ,SAAA,CAAA,QAAMkB,EAAQhF,KAAK0E,QAAQ,aAChC,OAAK,CAAAZ,SAAA,CAAA,oBAAkBkB,EAAQ7E,gCAKpC4D,KAAC,MAAI,CAAAnB,UAAU,6CACbkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,wDACbkB,SAAA,CAAApB,EAAAA,IAAC,MAAI,CAAAE,UAAU,uDAAwDkB,SAAAkB,EAAQ/E,gBAC9EyC,EAAAA,IAAA,MAAA,CAAIE,UAAU,yBAAyBkB,SAAa,uBAEvDC,KAAC,MAAI,CAAAnB,UAAU,wDACbkB,SAAA,CAAApB,EAAAA,IAAC,MAAI,CAAAE,UAAU,uDAAwDkB,SAAAkB,EAAQ9E,aAC9EwC,EAAAA,IAAA,MAAA,CAAIE,UAAU,yBAAyBkB,SAAU,oBAEpDC,KAAC,MAAI,CAAAnB,UAAU,wDACbkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,uDAAwDkB,SAAA,CAAQkB,EAAAvE,UAAU,OACxFiC,EAAAA,IAAA,MAAA,CAAIE,UAAU,yBAAyBkB,SAAS,mBAEnDC,KAAC,MAAI,CAAAnB,UAAU,wDACbkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,uDAAwDkB,SAAA,CAAQkB,EAAAtE,aAAa,QAC3FgC,EAAAA,IAAA,MAAA,CAAIE,UAAU,yBAAyBkB,SAAM,mBAKlDC,KAAC,MAAI,CAAAnB,UAAU,0BACZkB,SAAA,CAAmB,aAAXkB,EAAArF,QACNoE,EAAAA,KAAAC,EAAA,CAAOC,QAAQ,UAAUO,KAAK,KAAK5B,UAAU,aAC5CkB,SAAA,GAACpB,IAAAG,EAAA,CAAMD,UAAU,iBAAiB,UAIlB,WAAnBoC,EAAQrF,QACNoE,EAAAA,KAAAC,EAAA,CAAOC,QAAQ,UAAUO,KAAK,KAAK5B,UAAU,aAC5CkB,SAAA,GAACpB,IAAAC,EAAA,CAAKC,UAAU,iBAAiB,kBAIpCoB,EAAO,CAAAC,QAAQ,UAAUO,KAAK,KAAK5B,UAAU,aAC5CkB,SAAA,GAACpB,IAAAyC,EAAA,CAAOvC,UAAU,iBAAiB,sBAGpCoB,EAAO,CAAAC,QAAQ,UAAUO,KAAK,KAAK5B,UAAU,aAC5CkB,SAAA,GAACpB,IAAA0C,EAAA,CAAIxC,UAAU,iBAAiB,mBAGjCoB,EAAO,CAAAC,QAAQ,UAAUO,KAAK,KAAK5B,UAAU,aAC5CkB,SAAA,GAACpB,IAAAwB,EAAA,CAAStB,UAAU,iBAAiB,kBAhFjCoC,EAAQzF,YA0FxBwE,KAAC,MAAI,CAAAnB,UAAU,wCAEbkB,SAAA,GAACC,KAAAM,EAAA,CAAWJ,QAAQ,WAClBH,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,yCACbkB,SAAA,GAACC,KAAA,KAAA,CAAGnB,UAAU,mFACZkB,SAAA,GAACpB,IAAA2C,EAAA,CAAUzC,UAAU,0BAA0B,mBAGhDF,EAAAA,IAAA6B,EAAA,CAAUN,QAAQ,UAAUH,SAAY,0BAE1C,MAAI,CAAAlB,UAAU,OACbkB,SAAApB,EAAAA,IAAC4C,GAAoBC,MAAM,OAAOC,OAAO,OACvC1B,gBAAC2B,EAAU,CAAAC,KAAM3E,EAAsB4E,QAAQC,UAC7C9B,SAAA,GAAApB,IAAC,OACC,CAAAoB,SAAAC,EAAAA,KAAC,iBAAe,CAAAxE,GAAG,mBAAmBsG,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAC5DlC,SAAA,CAAApB,MAAC,QAAKuD,OAAO,KAAKC,UAAU,UAAUC,YAAa,WAClD,OAAK,CAAAF,OAAO,MAAMC,UAAU,UAAUC,YAAa,SAGvDzD,EAAAA,IAAA0D,EAAA,CAAcC,gBAAgB,MAAMC,OAAO,YAC5CzB,EAAAnC,IAAC6D,EAAA,CACCC,QAAQ,OACRC,KAAM,CAAEC,SAAU,IAClBJ,OAAO,YAETzB,EAAAnC,IAACiE,EAAA,CACCF,KAAM,CAAEC,SAAU,IAClBJ,OAAO,YAETzB,EAAAnC,IAACkE,EAAA,CACCC,aAAc,CACZC,gBAAiB,QACjBC,OAAQ,oBACRC,aAAc,UAGlBnC,EAAAnC,IAACuE,EAAA,CACCC,KAAK,WACLV,QAAQ,WACRF,OAAO,UACPa,YAAa,EACbC,KAAK,yBACLC,KAAK,4BAQftD,KAACM,EAAW,CAAAJ,QAAQ,WAClBH,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,yCACbkB,SAAA,GAACC,KAAA,KAAA,CAAGnB,UAAU,mFACZkB,SAAA,GAACpB,IAAAkC,EAAA,CAAIhC,UAAU,4BAA4B,sBAG5CF,EAAAA,IAAA6B,EAAA,CAAUN,QAAQ,UAAUH,SAAI,kBAElC,MAAI,CAAAlB,UAAU,OACbkB,SAAApB,EAAAA,IAAC4C,GAAoBC,MAAM,OAAOC,OAAO,OACvC1B,gBAACwD,EAAU,CAAA5B,KAAM7D,EAAoB8D,OAAS,IAC5C7B,SAAA,CAAApB,EAAAA,IAAC0D,EAAc,CAAAC,gBAAgB,MAAMC,OAAO,YAC5CzB,EAAAnC,IAAC6D,EAAA,CACCC,QAAQ,OACRC,KAAM,CAAEC,SAAU,IAClBJ,OAAO,YAETzB,EAAAnC,IAACiE,EAAA,CACCF,KAAM,CAAEC,SAAU,IAClBJ,OAAO,YAETzB,EAAAnC,IAACkE,EAAA,CACCC,aAAc,CACZC,gBAAiB,QACjBC,OAAQ,oBACRC,aAAc,UAGlBnC,EAAAnC,IAAC6E,EAAA,CACCL,KAAK,WACLV,QAAQ,YACRF,OAAO,UACPa,YAAa,EACbE,KAAK,UACLG,KAAK,IAEP3C,EAAAnC,IAAC6E,EAAA,CACCL,KAAK,WACLV,QAAQ,eACRF,OAAO,UACPa,YAAa,EACbE,KAAK,aACLG,KAAK,mBASjBzD,KAACM,EAAW,CAAAJ,QAAQ,WAClBH,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,yCACbkB,SAAA,GAACC,KAAA,KAAA,CAAGnB,UAAU,mFACZkB,SAAA,GAACpB,IAAAM,EAAA,CAAMJ,UAAU,2BAA2B,gBAG9CmB,KAACQ,EAAU,CAAAN,QAAQ,UAAWH,SAAA,CAAc1B,EAAAlB,OAAO,qBAErDwB,IAAC,MAAI,CAAAE,UAAU,YACZkB,SAAA1B,EAAc2C,IAAK0C,GAClB5C,EAAAd,KAAC,MAAkB,CAAAnB,UAAU,iFAC3BkB,SAAA,GAACC,KAAA,MAAA,CAAInB,UAAU,0BACbkB,SAAA,CAAApB,EAAAA,IAAC,OAAIE,UAAU,0FACbkB,eAACd,EAAM,CAAAJ,UAAU,wDAElB,MACC,CAAAkB,SAAA,CAAApB,EAAAA,IAAC,KAAG,CAAAE,UAAU,iDAAkDkB,SAAA2D,EAAKjI,eACrEuE,KAAC,IAAE,CAAAnB,UAAU,6CACVkB,SAAA,CAAK2D,EAAAhI,WAAW,MAAIgI,EAAK/H,mBAIhCqE,KAAC,MAAI,CAAAnB,UAAU,0BACbkB,SAAA,CAAApB,MAAC6B,GAAUN,QAASf,EAAiBuE,EAAK7G,UAAW4D,KAAK,KACvDV,SAAkB,SAAb2D,EAAA7G,SAAsB,cACT,WAAlB6G,EAAK7G,SAAwB,eAAiB,mBAEjDmD,KAAC,MAAI,CAAAnB,UAAU,yBAAyBkB,SAAA,CAAA,gBACxB2D,EAAK5G,6BAEpBmD,EAAO,CAAAC,QAAQ,UAAUO,KAAK,KAAK5B,UAAU,aAC5CkB,SAAA,GAACpB,IAAAC,EAAA,CAAKC,UAAU,iBAAiB,oBArB7B6E,EAAKlI,UA+BpB+C,KACCI,IAAC,MAAI,CAAAE,UAAU,sEACbkB,SAAApB,EAAAA,IAAC2B,EAAW,CAAAzB,UAAU,mBACpBkB,SAAAC,EAAAA,KAAC,MAAI,CAAAnB,UAAU,MACbkB,SAAA,CAACpB,EAAAA,IAAA,KAAA,CAAGE,UAAU,6BAA6BkB,SAAe,oBACzDpB,EAAAA,IAAA,IAAA,CAAEE,UAAU,sBAAsBkB,SAAwC,+CAC3EC,KAAC,MAAI,CAAAnB,UAAU,yBACbkB,SAAA,CAACpB,EAAAA,IAAAsB,EAAA,CAAOC,QAAQ,UAAUE,QAAS,IAAM5B,GAAmB,GAAQuB,SAEpE,iBACCE,EAAO,CAAAG,QAAS,IAAM5B,GAAmB,GAAQuB,SAElD,6BASlB"}