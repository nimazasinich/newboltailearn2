{"version":3,"file":"api-config-51aa8efe.js","sources":["../../src/lib/api-config.ts"],"sourcesContent":["// Real API base configuration\nconst RAW_BASE = import.meta.env?.VITE_API_BASE ?? '/api';\n\n// RequestInit type for fetch\ntype RequestInit = globalThis.RequestInit;\n\nfunction normalizeApiBase(base: string): string {\n  const trimmed = (base || '').trim();\n  const withoutTrailingSlash = trimmed.endsWith('/') ? trimmed.slice(0, -1) : trimmed;\n  return withoutTrailingSlash.startsWith('/') ? withoutTrailingSlash : `/${withoutTrailingSlash}`;\n}\n\nexport const API_BASE = normalizeApiBase(RAW_BASE);\n\n// Safe URL joining\nexport function joinApiPath(basePath: string, endpoint: string): string {\n  const cleanEndpoint = endpoint.startsWith('/') ? endpoint : `/${endpoint}`;\n  return `${basePath}${cleanEndpoint}`;\n}\n\n// Request wrapper with proper error handling\nexport async function apiRequest(endpoint: string, options?: RequestInit): Promise<Response> {\n  const url = endpoint.startsWith('/api') || endpoint.startsWith('http') \n    ? endpoint \n    : joinApiPath(API_BASE, endpoint);\n  \n  const response = await fetch(url, {\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n      ...options?.headers,\n    },\n    ...options,\n  });\n\n  if (!response.ok) {\n    throw new Error(`API Error: ${response.status} ${response.statusText} - ${url}`);\n  }\n\n  return response;\n}\n\n// Typed API responses\nexport interface ApiResponse<T> {\n  data?: T;\n  message?: string;\n  error?: string;\n}\n\n// Helper for handling API responses\nexport async function handleApiResponse<T>(response: Response): Promise<T> {\n  const data = await response.json();\n  if (data.error) {\n    throw new Error(data.error);\n  }\n  return data.data || data;\n}\n\n// API endpoints configuration\nexport const API_ENDPOINTS = {\n  // Models\n  MODELS: '/models',\n  MODEL_BY_ID: (id: string) => `/models/${id}`,\n  MODEL_TRAIN: (id: string) => `/models/${id}/train`,\n  MODEL_PAUSE: (id: string) => `/models/${id}/pause`,\n  MODEL_RESUME: (id: string) => `/models/${id}/resume`,\n  MODEL_DELETE: (id: string) => `/models/${id}`,\n  MODEL_EXPORT: (id: string) => `/models/${id}/export`,\n  MODEL_CHECKPOINTS: (id: string) => `/models/${id}/checkpoints`,\n  \n  // Analytics\n  ANALYTICS: '/analytics',\n  ANALYTICS_ADVANCED: '/analytics/advanced',\n  ANALYTICS_PERFORMANCE: '/analytics/performance',\n  ANALYTICS_USAGE: '/analytics/usage',\n  \n  // Datasets\n  DATASETS: '/datasets',\n  DATASET_BY_ID: (id: string) => `/datasets/${id}`,\n  DATASET_DOWNLOAD: (id: string) => `/datasets/${id}/download`,\n  \n  // Monitoring\n  MONITORING: '/monitoring',\n  MONITORING_LOGS: '/monitoring/logs',\n  MONITORING_HEALTH: '/monitoring/health',\n  MONITORING_PERFORMANCE: '/monitoring/performance',\n  \n  // Logs\n  LOGS: '/logs',\n  \n  // Settings\n  SETTINGS: '/settings',\n  \n  // Team\n  TEAM: '/team',\n  \n  // Health\n  HEALTH: '/health',\n  \n  // System metrics\n  SYSTEM_METRICS: '/system/metrics',\n} as const;\n"],"names":["_a","API_BASE","base","trimmed","trim","withoutTrailingSlash","endsWith","slice","startsWith","normalizeApiBase","VITE_API_BASE","joinApiPath","basePath","endpoint","async","apiRequest","options","url","response","fetch","credentials","headers","ok","Error","status","statusText","API_ENDPOINTS","MODELS","MODEL_BY_ID","id","MODEL_TRAIN","MODEL_PAUSE","MODEL_RESUME","MODEL_DELETE","MODEL_EXPORT","MODEL_CHECKPOINTS","ANALYTICS","ANALYTICS_ADVANCED","ANALYTICS_PERFORMANCE","ANALYTICS_USAGE","DATASETS","DATASET_BY_ID","DATASET_DOWNLOAD","MONITORING","MONITORING_LOGS","MONITORING_HEALTH","MONITORING_PERFORMANCE","LOGS","SETTINGS","TEAM","HEALTH","SYSTEM_METRICS"],"mappings":"AACA,IAAAA,EAWa,MAAAC,EANb,SAA0BC,GAClB,MAAAC,GAAWD,GAAQ,IAAIE,OACvBC,EAAuBF,EAAQG,SAAS,KAAOH,EAAQI,MAAM,GAAG,GAAMJ,EAC5E,OAAOE,EAAqBG,WAAW,KAAOH,EAAuB,IAAIA,GAC3E,CAEwBI,EAXP,OAAAT,mGAAiBU,gBAAiB,QAcnC,SAAAC,EAAYC,EAAkBC,GAErC,MAAA,GAAGD,IADYC,EAASL,WAAW,KAAOK,EAAW,IAAIA,KAElE,CAGsBC,eAAAC,EAAWF,EAAkBG,GACjD,MAAMC,EAAMJ,EAASL,WAAW,SAAWK,EAASL,WAAW,QAC3DK,EACAF,EAAYV,EAAUY,GAEpBK,QAAiBC,MAAMF,EAAK,CAChCG,YAAa,UACbC,QAAS,CACP,eAAgB,sBACJ,MAATL,OAAS,EAAAA,EAAAK,YAEXL,IAGD,IAACE,EAASI,GACN,MAAA,IAAIC,MAAM,cAAcL,EAASM,UAAUN,EAASO,gBAAgBR,KAGrE,OAAAC,CACT,CAmBO,MAAMQ,EAAgB,CAE3BC,OAAQ,UACRC,YAAcC,GAAe,WAAWA,IACxCC,YAAcD,GAAe,WAAWA,UACxCE,YAAcF,GAAe,WAAWA,UACxCG,aAAeH,GAAe,WAAWA,WACzCI,aAAeJ,GAAe,WAAWA,IACzCK,aAAeL,GAAe,WAAWA,WACzCM,kBAAoBN,GAAe,WAAWA,gBAG9CO,UAAW,aACXC,mBAAoB,sBACpBC,sBAAuB,yBACvBC,gBAAiB,mBAGjBC,SAAU,YACVC,cAAgBZ,GAAe,aAAaA,IAC5Ca,iBAAmBb,GAAe,aAAaA,aAG/Cc,WAAY,cACZC,gBAAiB,mBACjBC,kBAAmB,qBACnBC,uBAAwB,0BAGxBC,KAAM,QAGNC,SAAU,YAGVC,KAAM,QAGNC,OAAQ,UAGRC,eAAgB"}